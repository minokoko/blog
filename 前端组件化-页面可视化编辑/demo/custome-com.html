<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="utf-8">
	<title>组件实现</title>
</head>
<body>
	<!-- <cdiv id="c" style="color:red;font-size:28px;">Hello World!</cdiv>
	<script>
	var n = document.getElementById('c');
	console.log(n instanceof HTMLElement);//true
	console.log(n instanceof HTMLUnknownElement);//true
	</script> -->
	<div class="app" id="app">
		<c-div id="cDiv"></c-div>
	</div>
	<script type="text/javascript">
		 // var cdiv = function(){
	  //       alert('组件方法执行了！');
	  //   };
	  //   document.addEventListener('DOMContentLoaded', function(){
	  //       var cD = document.getElementById('cDiv');
	  //       var cNode = cD.nodeName;
	  //       var comFn = cNode.replace(/\-/g, '').toLowerCase();
	  //       window[comFn]();
	  //   }, false);
		/**
		 * 优化后，添加独立的命名空间，采用闭包
		 */
		 var App = (function(){
		 	var COMS = {};//保存组件对象

		 	//注册组件
		 	function register(key, comObj){
		 		if(COMS.hasOwnProperty(key)){
		 			return;
		 		}
		 		COMS[key] = comObj;
		 	}
		 	//解析自定义标签
		 	function parseNode(){

		 	}
		 	function Root(config){
		 		this.id = config.id;
		 		if(config.coms){
		 			this.register(config.coms);
		 		}
		 	}
		 	Root.prototype.register = function(coms){
		 		var i;
		 		var tmp;
		 		for(i=0;i<coms.length;i++){
		 			tmp = coms[i];
		 			register(tmp.key, tmp.comObj);
		 		}
		 	}
		 	return Root;
		 }());
	</script>
</body>
</html>